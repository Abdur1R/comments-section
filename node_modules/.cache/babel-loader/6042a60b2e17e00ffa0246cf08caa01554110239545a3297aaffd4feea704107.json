{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Mentions}from\"antd\";import React from\"react\";// import { TeamDetailsAPI } from \"../../services/TeamDetailsApi\";\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommentForm=_ref=>{let{handleSubmit,submitLabel,hasCancelButton=false,handleCancel,initialText=\"\",parentForm=false,questionText=\"\"}=_ref;const[text,setText]=useState(initialText||'');const[state,updateState]=useState({});const isTextareaDisabled=text?text.length===0:false;const onSubmit=event=>{event.preventDefault();handleSubmit(text);setText(\"\");};const FetchTeamDetails=async()=>{// const response: any = await TeamDetailsAPI();\nconst response=[{full_name:\"Abdur Rahman Shaik\"},{full_name:\"Dummy 1\"}];if(response){updateState(prev=>{var _response$map;return{...prev,responseEmpList:response!==null&&response!==void 0?response:[],employeeList:(_response$map=response.map(item=>item.full_name))!==null&&_response$map!==void 0?_response$map:[]};});}};useEffect(()=>{FetchTeamDetails();},[]);return/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(Mentions,{autoFocus:true,defaultValue:parentForm?'':initialText,value:text,rows:3,onChange:text=>{setText(text);},placeholder:`Adding Comment for ${questionText}`,children:state.employeeList&&state.employeeList.map((item,index)=>/*#__PURE__*/_jsx(Mentions.Option,{value:item,children:item},index))}),/*#__PURE__*/_jsx(\"button\",{className:\"comment-form-button\",disabled:isTextareaDisabled,children:submitLabel}),hasCancelButton&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"comment-form-button comment-form-cancel-button\",onClick:handleCancel,children:\"Cancel\"})]});};export default CommentForm;","map":{"version":3,"names":["useEffect","useState","Mentions","React","jsx","_jsx","jsxs","_jsxs","CommentForm","_ref","handleSubmit","submitLabel","hasCancelButton","handleCancel","initialText","parentForm","questionText","text","setText","state","updateState","isTextareaDisabled","length","onSubmit","event","preventDefault","FetchTeamDetails","response","full_name","prev","_response$map","responseEmpList","employeeList","map","item","children","autoFocus","defaultValue","value","rows","onChange","placeholder","index","Option","className","disabled","type","onClick"],"sources":["C:/Projects/comments-section/src/CommentForm.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Mentions } from \"antd\";\r\nimport React from \"react\";\r\n// import { TeamDetailsAPI } from \"../../services/TeamDetailsApi\";\r\n\r\nconst CommentForm = ({\r\n    handleSubmit,\r\n    submitLabel,\r\n    hasCancelButton = false,\r\n    handleCancel,\r\n    initialText = \"\",\r\n    parentForm = false,\r\n    questionText = \"\",\r\n}: {\r\n    handleSubmit: any;\r\n    submitLabel: any;\r\n    hasCancelButton?: any;\r\n    handleCancel?: any;\r\n    initialText?: any;\r\n    parentForm?: boolean;\r\n    questionText?: string;\r\n}) => {\r\n    const [text, setText] = useState(initialText || '');\r\n    const [state, updateState] = useState<any>({});\r\n    const isTextareaDisabled = text ? text.length === 0 : false;\r\n    const onSubmit = (event: any) => {\r\n        event.preventDefault();\r\n        handleSubmit(text);\r\n        setText(\"\");\r\n    };\r\n\r\n    const FetchTeamDetails = async () => {\r\n        // const response: any = await TeamDetailsAPI();\r\n        const response: any = [{ full_name: \"Abdur Rahman Shaik\" }, { full_name: \"Dummy 1\" }];\r\n        if (response) {\r\n            updateState((prev: any) => ({\r\n                ...prev, responseEmpList: response ?? [], employeeList: response.map((item: any) => item.full_name) ?? []\r\n            }));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        FetchTeamDetails();\r\n    }, []);\r\n\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n            <Mentions\r\n                autoFocus={true}\r\n                defaultValue={parentForm ? '' : initialText}\r\n                value={text}\r\n                rows={3}\r\n                onChange={(text) => {\r\n                    setText(text);\r\n                }}\r\n                placeholder={`Adding Comment for ${questionText}`}>\r\n                {state.employeeList && state.employeeList.map((item: any, index: any) => (\r\n                    <Mentions.Option key={index} value={item}>{item}</Mentions.Option>\r\n                ))}\r\n            </Mentions>\r\n            <button className=\"comment-form-button\" disabled={isTextareaDisabled}>\r\n                {submitLabel}\r\n            </button>\r\n            {hasCancelButton && (\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"comment-form-button comment-form-cancel-button\"\r\n                    onClick={handleCancel}\r\n                >\r\n                    Cancel\r\n                </button>\r\n            )}\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default CommentForm;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,QAAQ,KAAQ,MAAM,CAC/B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEA,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAgBd,IAhBe,CACjBC,YAAY,CACZC,WAAW,CACXC,eAAe,CAAG,KAAK,CACvBC,YAAY,CACZC,WAAW,CAAG,EAAE,CAChBC,UAAU,CAAG,KAAK,CAClBC,YAAY,CAAG,EASnB,CAAC,CAAAP,IAAA,CACG,KAAM,CAACQ,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAACa,WAAW,EAAI,EAAE,CAAC,CACnD,KAAM,CAACK,KAAK,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAM,CAAC,CAAC,CAAC,CAC9C,KAAM,CAAAoB,kBAAkB,CAAGJ,IAAI,CAAGA,IAAI,CAACK,MAAM,GAAK,CAAC,CAAG,KAAK,CAC3D,KAAM,CAAAC,QAAQ,CAAIC,KAAU,EAAK,CAC7BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBf,YAAY,CAACO,IAAI,CAAC,CAClBC,OAAO,CAAC,EAAE,CAAC,CACf,CAAC,CAED,KAAM,CAAAQ,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjC;AACA,KAAM,CAAAC,QAAa,CAAG,CAAC,CAAEC,SAAS,CAAE,oBAAqB,CAAC,CAAE,CAAEA,SAAS,CAAE,SAAU,CAAC,CAAC,CACrF,GAAID,QAAQ,CAAE,CACVP,WAAW,CAAES,IAAS,OAAAC,aAAA,OAAM,CACxB,GAAGD,IAAI,CAAEE,eAAe,CAAEJ,QAAQ,SAARA,QAAQ,UAARA,QAAQ,CAAI,EAAE,CAAEK,YAAY,EAAAF,aAAA,CAAEH,QAAQ,CAACM,GAAG,CAAEC,IAAS,EAAKA,IAAI,CAACN,SAAS,CAAC,UAAAE,aAAA,UAAAA,aAAA,CAAI,EAC3G,CAAC,EAAC,CAAC,CACP,CACJ,CAAC,CAED9B,SAAS,CAAC,IAAM,CACZ0B,gBAAgB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACInB,KAAA,SAAMgB,QAAQ,CAAEA,QAAS,CAAAY,QAAA,eACrB9B,IAAA,CAACH,QAAQ,EACLkC,SAAS,CAAE,IAAK,CAChBC,YAAY,CAAEtB,UAAU,CAAG,EAAE,CAAGD,WAAY,CAC5CwB,KAAK,CAAErB,IAAK,CACZsB,IAAI,CAAE,CAAE,CACRC,QAAQ,CAAGvB,IAAI,EAAK,CAChBC,OAAO,CAACD,IAAI,CAAC,CACjB,CAAE,CACFwB,WAAW,CAAE,sBAAsBzB,YAAY,EAAG,CAAAmB,QAAA,CACjDhB,KAAK,CAACa,YAAY,EAAIb,KAAK,CAACa,YAAY,CAACC,GAAG,CAAC,CAACC,IAAS,CAAEQ,KAAU,gBAChErC,IAAA,CAACH,QAAQ,CAACyC,MAAM,EAAaL,KAAK,CAAEJ,IAAK,CAAAC,QAAA,CAAED,IAAI,EAAzBQ,KAA2C,CACpE,CAAC,CACI,CAAC,cACXrC,IAAA,WAAQuC,SAAS,CAAC,qBAAqB,CAACC,QAAQ,CAAExB,kBAAmB,CAAAc,QAAA,CAChExB,WAAW,CACR,CAAC,CACRC,eAAe,eACZP,IAAA,WACIyC,IAAI,CAAC,QAAQ,CACbF,SAAS,CAAC,gDAAgD,CAC1DG,OAAO,CAAElC,YAAa,CAAAsB,QAAA,CACzB,QAED,CAAQ,CACX,EACC,CAAC,CAEf,CAAC,CAED,cAAe,CAAA3B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}